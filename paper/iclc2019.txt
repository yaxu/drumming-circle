---
title: Pattern and Code: Algorithmic Drumming Circles
author:
  - name: Alex McLean
    affiliation: Research Institute for the History of Science and Technology, Deutsches Museum
    email: alex@slab.org
  - name: Renick Bell
    affiliation: Conductive enterprises
    email: renick@gmail.com
abstract: |
  Replace this text with a 100-250 word abstract. You'll find it in the
  'metadata block' at the top of your markdown document), be sure that
  each line of the abstract is indented.
fontsize: 11pt
geometry: margin=2cm
fontfamily: libertine
fontfamily: inconsolata
mainfont: Linux Libertine O
monofont: Inconsolata
bibliography: references.bib
...

# Introduction

It is well known that creativity thrives inside constraints. This
project was to work with a year group of pupils, in order to produce
an installation at the Playgrounds exhibition in Sheffield UK. It was
planned to work with year 6s (Y6; 10-11 year olds), but in the last
stages it turned out they were unavailable, and so year 4 (8-9 year
olds) stepped in. In addition three year 8 (Y8; 12-13 year olds)
pupils were available for more focussed work. Ten days were available
to develop the whole activity.

The theme *Pattern + Code* was chosen for the installation, to explore
coding from both traditional and contemporary cultural practices. In
particular, I decided to bring together two activities: *knot coding*
inspired by the ancient Andean practice of Quipu, and contemporary,
collaborative *live coding* musical practice. In the following section
I will briefly introduce knot coding, before outlining the activity
that is focus of the present paper, algorithmic drumming circles. I
will then conclude by explaining why I put these two practices
together and how I plan to bring them much closer together in the
future.

# Knot coding

Quipu is the ancient pre-Columbian practice of recording information
using yarn, used in the Andean region to record and pass information
during the Inka empire (ref Urton). This practice was wiped out by the
Spanish conquest, and the Quipus that remain have only been partially
decoded. We do however know that a decimal system of knots was used to
record numbers, and that other information was recorded with binary
properties such as the spin direction of yarn, the orientation of
hitches, as well as the colours of threads.

Inspired by this practice, I worked with Y8 children in Wybourn
Community Primary in Sheffield, on hiding messages in knots tied into
yarn. I wanted them to think about how information can be digitally
represented in string. This could have some motivations from a
'computational thinking' standpoint, but I really wanted to introduce
digital art in such a way that was grounded in human cultural
practice, rather than the demands of the information economy.

The first step was to make Quipu-like strands to work with. This
involved taking a length of alpaca wool, tying a lollypop stick to one
end, and standing on the stick while twisting the other end. When the
twist in the wool gets tight, the two ends are brought together (i.e.,
the wool is folded in half), and the twist in the wool causes it to
'self-ply', i.e. twist back on itself to create a new thread that is
around half the length and twice the thickness. Importantly, the
strand is not only thicker, but has a loop at one end where the
original thread was folded in half. In Quipus, this loop is used to
hitch one strand onto another, creating a non-cyclic tree structure of
main cord, pendant strands, sub-pendants and so on.

Having each created a Quipu-like strand to work with, we then looked
at how Inka Quipu-makers recorded numbers with knots. Being a decimal
system, knots are arranged into units, tens, hundreds and so on up the
strand, with one being a simple overhand knot (or figure 8 knot in the
unit position), and other numbers represented by the number of turns
in a "long knot". 

The children were then set to hide messages in string, given
additional ready-made Quipu-like strands to work with as well as
elastic bands and beads. After a half-day sessions with each class,
the resulting works were hitched on to a single main cord, creating a
Quipu-like structure for the exhibition.

# Algorithmic drumming circles

Working with Quipus set the scene for the focus of this paper;
algorithmic drumming circles. Faced with the challenge of working with
two classes full of children, and limited time, I formed a plan to
work with groups of eight children. It was of course important for the
harmony of the school that no children were left out, so this meant
having around seven sessions, over the two days available.

** RENICK - para or two on drumming circles

By chance, the children had already partipated in drumming circles
with real drums earlier in the school year, and so were familiar with
the concept of playing rhythms together. They were on the whole less
familiar with coding, although perhaps the earlier knot coding
activity gave them some ideas about discrete representation and
pattern.

Each group of eight children was arranged in a circle on the floor,
each child with their own computer and speaker. They used the
TidalCycles (ref; tidal for short) live coding environment to make
music together. Each session only lasted one hour, during which I gave
them a short presentation on the practice of both drumming circles and
live coding, teached them how to live code with tidal, and recorded a
drumming circle performance for the installation. Despite the apparent
impossibility of this task, in two cases there was time to record two
performances to include in the exhibition. Mainly due to safeguarding
issues, five recorded performances were kept.

## Hardware

Eight Raspberry Pi computers (version 2) were used, with high quality
audio outputs from Phat DAC add-on boards, and 7" screens donated by
sponsor Pimoroni . In addition eight speakers (four pairs of Fostex
PM0.3d) were used, with a speaker placed under each computer and
screen, creating an eight-channel drumming circle where each pupil
could hear their own contribution clearly. I had originally planned to
use cheaper Pi Zero Ws, but could not obtain the in time for the
workshops, and had ready access to Pi 2s. The computers had keyboards,
but not mice.

In order to support accurate time synchronisation and tempo
coordination, and take a live backup of the children's code, an
ethernet network was used. As well as recording the code, a high
definition video recording was taken of the circle from the top-down
by Jon Harrison, by fixing a camera with wide lens to the ceiling. The
camera also took an audio recording for reference purposes. Rather
than recording audio, keypresses by the children were recorded so that
they could be replayed.

## Software

I used the *TidalCycles* environment, with a new, tightly integrated
text-based editor *FeedForward*, written in the same language as
TidalCycles; Haskell. This project gave significant impetus to develop
this editor so that it was stable enough for use by eight year
olds. Feedforward features include automatic labelling of separate
patterns, so the usual `d1`, `d2` functions are not required, and
individual pattern can be easily muted and unmuted with
hotkeys. Furthermore, each pattern is given a VU meter, giving a
visual cue of the audio produced by it.

Importantly for this project, FeedForward records keypresses, with
accurate timestamps, allowing performances to be recorded and played
back with very high precision and minimal space requirements. These
data were sent over the network to my laptop, so that they could be
stored together for later processing, and also as a live backup.

I also added software features to TidalCycles itself in the form of
the optional `Sound.Tidal.Simple` module, mainly to reduce the amount
of typing needed to make live music, to a level acceptable to
non-touch typists. This involved developing Tidal's overloaded string
feature, so that a sequence will default to being a pattern of
sounds. This is in addition to automatic inference of separate
patterns, so rather than typing `d1 $ sound "kick snare"` for a
minimal kick-snare pattern, only `"kick snare"` is required.

I also added a number of shorthand pattern transformation functions to
`Sound.Tidal.Simple`, which all take a single pattern as input and
return a pattern as output. These additional functions are listed in
the below table:

name       effect
---------- ----------
`crunch`   apply bit crush
`scratch`  chop each sample into 32 grains and play them backwards
`louder`   increase the gain
`quieter`  decrease the gain
`mute`     replace the pattern with silence
`jump`     skip forward in time by a quarter cycle
`higher`   increase playback rate
`lower`    decrease sample playback rate
`faster`   increase sample playback rate and play the pattern faster
`slower`   decrease sample playback rate and play the pattern slower

As well as the above unary pattern transformations, I also introduced
them to two of tidal's higher order functions, `every` and
`sometimes`. Even these two functions ad a great deal of variety to
the overall rhythm, allowing them to patterns such as `every 3 faster "hi*2 ~ lo lo"`. I also showed them how to add additional transformations on top, such as `sometimes crunch $ every 3 faster "hi*2 ~ lo lo"`, explaining that the `$` operator is used for 'gluing together' transformations.

## Instruction and sound

I had a few different approaches to the drumming circle to try out
with the first couple of groups of children (who did not have parental
permission for filming). For example, I had printed example patterns
onto stickers, stuck onto playing cards, and then dealt out to the
children. These stickers had different colours to denote drum pattern
sequences, and functions to transform those sequences.

However, it quickly became clear that any such intervention was a
distraction from what is most important in a drumming circle: trying
things out, listen to each other, and respond. So rather than handing
out cards, I showed them how to make pattern sequences and
transformations on-screen, and gave them time to experiment with each
example hands-on.

I gave each child only two samples, `hi` and `lo`, to denote the high
and low tone of many hand drums. Each child had a different pair of
sound samples, taken from a variety of hand drums, to help them
differentiate their own patterns from those of the rest of the group,
which created a rich percussive emsemble. My original intention was to
use these at the beginning, but then give them additional sounds to
play with, printed on cards. However as mentioned earlier, I found
limiting the children to only two sounds each provided constraints to
encourage them to work creatively with the patterns.

## Result

This project was developed as an arts residency, and no attempt was
made to evaluate it as a piece of research. The eight-year olds were
not surveyed for their qualitative or quantitative responses. However
they did appear to enjoy themselves, all engaged fully with the
activity throughout, and to my own ears, the musical results were
extremely good, fluctuating between polyrhythmic grooves and extreme
noise, with each drumming circle having a distinct character. It was
particularly nice to see children hear something interesting one of
their friends was making, run round to have a look at how it was done,
and then run back to try it out themselves. Syntax errors did crop up,
whereupon the child would stick their hand up for me to come round and
tell them how to solve it.

# Installation

The installation was live within the week-long Playgrounds exhibition
in Millennium Gallery in Sheffield, taking place as part of the
Childrens' Media Conference. The computers 

# Additional performance

# Conclusion

Bringing together Quipu and live coding

![*A descriptive caption should be given for all figures, understandable without reference to the rest of the article.*](images/pomeroy.jpg)

# References
